
/*
 * mpc83xx.h - MPC83xx architecture definitions.
 *
 * Copyright (C) 2020-2025 Gabriele Galeotti
 *
 * This work is licensed under the terms of the MIT License.
 * Please consult the LICENSE.txt file located in the top-level directory.
 */

#ifndef _MPC83xx_H
#define _MPC83xx_H 1

#define IMMRBAR_DEFAULT 0xFF400000
#define IMMRBAR_VALUE   0xFF400000
//#define IMMRBAR_DEFAULT 0xE0000000
//#define IMMRBAR_VALUE   0xE0000000

#define RCWLR (IMMRBAR_VALUE + 0x00000900)
#define RCWHR (IMMRBAR_VALUE + 0x00000904)
#define RSR   (IMMRBAR_VALUE + 0x00000910)
#define SPMR  (IMMRBAR_VALUE + 0x00000A00)

#define SICR_1 (IMMRBAR_VALUE + 0x00000114)
#define SICR_2 (IMMRBAR_VALUE + 0x00000118)

#define GP1DIR (IMMRBAR_VALUE + 0x00000C00)
#define GP1ODR (IMMRBAR_VALUE + 0x00000C04)
#define GP1DAT (IMMRBAR_VALUE + 0x00000C08)
#define GP2DIR (IMMRBAR_VALUE + 0x00000D00)
#define GP2ODR (IMMRBAR_VALUE + 0x00000D04)
#define GP2DAT (IMMRBAR_VALUE + 0x00000D08)

#define PTCNR (IMMRBAR_VALUE + 0x00000400)
# define PIM  (1 << 0)
# define CLIN (1 << 6)
# define CLEN (1 << 7)
#define PTLDR (IMMRBAR_VALUE + 0x00000404)
#define PTPSR (IMMRBAR_VALUE + 0x00000408)
#define PTCTR (IMMRBAR_VALUE + 0x0000040C)
#define PTEVR (IMMRBAR_VALUE + 0x00000410)

#define LBLAWBAR0 (IMMRBAR_VALUE + 0x00000020)
#define LBLAWAR0  (IMMRBAR_VALUE + 0x00000024)

#define UART1_URBR (IMMRBAR_VALUE + 0x00004500)
#define UART1_UTHR (IMMRBAR_VALUE + 0x00004500)
#define UART1_UDLB (IMMRBAR_VALUE + 0x00004500)
#define UART1_UIER (IMMRBAR_VALUE + 0x00004501)
#define UART1_UDMB (IMMRBAR_VALUE + 0x00004501)
#define UART1_ULCR (IMMRBAR_VALUE + 0x00004503)
#define UART1_UMCR (IMMRBAR_VALUE + 0x00004504)
#define UART1_ULSR (IMMRBAR_VALUE + 0x00004505)

#define UART2_URBR (IMMRBAR_VALUE + 0x00004600)
#define UART2_UTHR (IMMRBAR_VALUE + 0x00004600)
#define UART2_UDLB (IMMRBAR_VALUE + 0x00004600)
#define UART2_UIER (IMMRBAR_VALUE + 0x00004601)
#define UART2_UDMB (IMMRBAR_VALUE + 0x00004601)
#define UART2_ULCR (IMMRBAR_VALUE + 0x00004603)
#define UART2_UMCR (IMMRBAR_VALUE + 0x00004604)
#define UART2_ULSR (IMMRBAR_VALUE + 0x00004605)

#define  ULSR_DR 0x01 /* ULSR data ready */

#define I2C1ADR (IMMRBAR_VALUE + 0x00003000)
#define I2C1FDR (IMMRBAR_VALUE + 0x00003004)
#define I2C1CR  (IMMRBAR_VALUE + 0x00003008)
#define  BCST 0x01
#define  RSTA 0x04
#define  TXAK 0x08
#define  MTX  0x10
#define  MSTA 0x20
#define  MIEN 0x40
#define  MEN  0x80
#define I2C1SR  (IMMRBAR_VALUE + 0x0000300C)
#define  RXAK 0x01
#define  MIF  0x02
#define  MBB  0x20
#define  MCF  0x80
#define I2C1DR  (IMMRBAR_VALUE + 0x00003010)

#endif /* _MPC83xx_H */
